<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Expense tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <style>
  body{
  font:Sans-serif;
   }
  #form-box{
  background-color: #E2EAF4;
  width:70%;
  margin-right: 20%x;
  margin-top: 30px;
  padding: 20px;
  }
  #search-filter{
  padding:10px;
  }
  </style>
  </head>
  <body>
  
  
  <div th:if="${msg}" class="alert alert-success  alert-dismissible " role="alert">
<span th:text="${msg}"></span>
 <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
 <div th:if="${err}" class="alert alert-danger  alert-dismissible " role="alert">
<span th:text="${err}"></span>
 <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
  <h1 class="text-center">Expense tracker</h1>
	
	<div class="container border border-black" id="search-filter">
  <form method="get" th:action="@{/filter_expenses}">
  <div class="row">
  <div class="col-3 "><label >From Date: </label><input type="date" name="fdate" class="ms-3" th:value="${fdate}"></div>
  <div class="col-3"><label >To Date: </label><input type="date" name="tdate" class="ms-3"  th:value="${tdate}"></div>
  <div class="col-3 "><label >Min Amount: </label><input type="text" name="MinAmt" class="ms-3" th:value="${MinAmt}"></div>
  <div class="col-3 "><label >Max Amount: </label><input type="text" name="MaxAmt" class="ms-3" th:value="${MaxAmt}"></div>
 
  </div>
  <br>
  <div class="row">
  
  <div class="col-1 ">
  <label>Category: </label>
  </div>
  <div class="col-2">
   <select class="form-select" aria-label="Default select example"  name="category" >
    	<option value="" selected>Select Category</option>
  	  <option value="TRAVEL">TRAVEL</option>
  	 <option value="MEDICINE" >MEDICINE</option>
  	  <option value="RENT">RENT</option>
  	   <option value="DRESS" >DRESS</option>
  	    <option value="FOOD" >FOOD</option>
	</select></div>
	<div class="col-3 "><label >Total Amount: </label><input type="text" th:value="${sum}" class="ms-3"></div>
	<div class="col-1"><button type="submit" class="btn btn-success">Search</button></div>
	<div class="col-1 "><a th:href="@{/all_Expenses}" class="btn btn-primary">Reset</a></div>
	<div class="col-1 "><a th:href="@{/}" class="btn btn-info">Back</a></div>
  </div>
  </form>
  
  </div>
  <br>
   <div class="container">
   <table th:if="${expenses != null}" class="table">
   <thead>
   <tr>
    <th>Expense Id</th>
    <th>Expense Note</th>
     <th>Expense Date</th>
     <th>Expense Category</th>
     <th>Expense Amount</th>
   </tr>
  
     
   </thead>
   <tbody>
   <tr th:each="e : ${expenses}">
   <td th:text="${e.id}"></td>
   <td th:text="${e.note}"></td>
   <td th:text="${e.date}"></td>
   <td th:text="${e.category}"></td>
     <td th:text="${e.amount}"></td>
   </tr >
   </tbody>
   </table>
   </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  </body>
</html>